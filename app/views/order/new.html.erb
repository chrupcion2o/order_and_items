<h1>Order#new</h1>


<div id="app" class="flex column">

  <%= form_with(url: create_order_path, method: "post") do |form| %>

    <input type="number" v-model="tax" name="tax" placeholder="Tax amt">

    <div v-for="item in orderItems">
        <label>Net price</label>
        <input type="number" v-model="item.net_price" placeholder="Net price">

        <label>Quantity</label>
        <input type="number" v-model="item.quantity" placeholder="Quantity">

        <!-- <button  v-on:click="removeOrderItem(item)" type="button">X</button> -->
    </div>

     <button v-on:click="addOrderItem" type="button">Add Order Item</button>



    <%= form.hidden_field 'tax', 'v-bind:value'=> 'tax' %>
    <%= form.hidden_field 'orderItems', 'v-bind:value'=> 'JSON.stringify(orderItems)' %>

    <button v-on:click="postForm" type="button">Create order</button>
  <% end %>
</div>


<%= javascript_pack_tag 'new_order' %>

